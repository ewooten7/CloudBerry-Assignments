<!DOCTYPE html>
<html>
<head>
    <title>To-Do List</title>
    <script>
        // NEW FEATURE: Confirm Delete Before Deleting Task
        function confirmDelete(taskId) {
            if (confirm("Are you sure you want to delete this task?")) {
                window.location.href = "/delete/" + taskId;
            }
        }
    </script>
</head>
<body>
    <h1>My To-Do List</h1>

    <!-- Form to Add Tasks -->
    <form action="/add" method="post">
        <input type="text" name="task" placeholder="Enter a task" required>
        <button type="submit">Add Task</button>
    </form>

    <!-- Task List -->
    <ul>
        {% for task in tasks %}
            <li>
                {{ task['title'] }}
                <!-- Delete Button with Confirmation -->
                <a href="javascript:void(0);" onclick="confirmDelete({{ task['id'] }})">❌</a>
                <!-- NEW FEATURE: Edit Button -->
                <a href="/edit/{{ task['id'] }}">✏️ Edit</a>
            </li>
        {% endfor %}
    </ul>
</body>
</html>
